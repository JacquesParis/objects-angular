<div
  (click)="switchCollapsed(treeChild)"
  [attr.aria-expanded]="!isCollapsed(treeChild)"
  [attr.aria-controls]="'treeNode_' + treeChild.treeNode.id"
  [style.cursor]="
    mayOpen(treeChild)
      ? isCollapsed(treeChild)
        ? 'default'
        : 'default'
      : isFinalChild(treeChild)
      ? 'pointer'
      : 'default'
  "
>
  <span class="align-middle text-nowrap">
    <i-bs
      *ngIf="!mayOpen(treeChild) || isCollapsed(treeChild)"
      name="chevron-right"
      width="1rem"
      height="1rem"
      class="align-middle py-2 p-1"
      [style.color]="mayOpen(treeChild) ? 'inherit' : 'transparent'"
    ></i-bs>
    <i-bs
      *ngIf="mayOpen(treeChild) && !isCollapsed(treeChild)"
      name="chevron-down"
      width="1rem"
      height="1rem"
      class="align-middle py-2 p-1"
    ></i-bs>
    <i-bs
      *ngIf="mayOpen(treeChild) && isCollapsed(treeChild)"
      name="folder"
      width="1rem"
      height="1rem"
      class="align-middle text-light py-2 p-1"
    ></i-bs>
    <i-bs
      *ngIf="mayOpen(treeChild) && !isCollapsed(treeChild)"
      name="folder2-open"
      width="1rem"
      height="1rem"
      class="align-middle text-light py-2 p-1"
    ></i-bs>
    <i-bs
      *ngIf="isFinalChild(treeChild)"
      name="file-earmark"
      width="1rem"
      height="1rem"
      class="align-middle text-light py-2 p-1"
    ></i-bs>
    <i-bs
      *ngIf="isLoading(treeChild)"
      name="hourglass-split"
      width="1rem"
      height="1rem"
      class="align-middle text-light py-2 p-1"
    ></i-bs>
    <a (click)="displayNode($event)" [style.cursor]="'pointer'">
      {{ treeChild.treeNode.name }}</a
    >
  </span>
</div>

<div
  [id]="'treeNode_' + treeChild.treeNode.id"
  [collapse]="isCollapsed(treeChild)"
  [isAnimated]="true"
>
  <div
    class="well well-lg card card-block card-header"
    *ngIf="mayDisplay(treeChild)"
  >
    <div
      app-admin-node-tree-field
      [treeChild]="child"
      *ngFor="let child of treeChild.children"
    ></div>
  </div>
</div>
