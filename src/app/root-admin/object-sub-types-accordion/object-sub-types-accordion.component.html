<div>
  <h5 for="subTypes">Sous-types</h5>
  <div name="subTypes">
    <accordion [isAnimated]="true">
      <accordion-group
        [isOpen]="isOpen(subType)"
        (isOpenChange)="setOpen(subType, $event)"
        *ngFor="let subType of objectType.objectSubTypes; trackBy: trackByFunc"
      >
        <button
          class="btn btn-link btn-block clearfix"
          accordion-heading
          type="button"
        >
          <div class="pull-left float-left" [innerHTML]="subType.name"></div>
          <span
            class="badge badge-secondary float-right pull-right"
            [innerHTML]="
              subType.objectType ? subType.objectType.name : 'unknown type !!!'
            "
          ></span>
        </button>
        <app-object-sub-type-card [entity]="subType"></app-object-sub-type-card>
      </accordion-group>

      <accordion-group *ngIf="inCreation" [isOpen]="true">
        <button
          class="btn btn-link btn-block clearfix"
          accordion-heading
          type="button"
        >
          <div class="pull-left float-left" [innerHTML]="'New sub type'"></div>
        </button>
        <app-object-sub-type-card
          [entity]="newEntity"
          (onCancel)="endCreation()"
          (onSave)="endCreation()"
        >
        </app-object-sub-type-card>
      </accordion-group>
    </accordion>

    <button
      type="button"
      class="btn btn-primary mr-2 mt-2"
      *ngIf="!inCreation"
      (click)="createNewEntity()"
      [disabled]="disabledAction"
    >
      Add a sub-type
    </button>
  </div>
</div>
